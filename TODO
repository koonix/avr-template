all the configs should go in a config.h
fix Make targets and how they depend on eachother and stuff
